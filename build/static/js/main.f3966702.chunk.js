(this.webpackJsonptabletop_dice_app=this.webpackJsonptabletop_dice_app||[]).push([[0],{12:function(t,e,s){},13:function(t,e,s){},15:function(t,e,s){},16:function(t,e,s){"use strict";s.r(e);var l=s(1),a=s.n(l),i=s(7),n=s.n(i),c=(s(12),s(2)),r=s(3),o=s(5),u=s(4),h=(s(13),s(0)),d=function(t){Object(o.a)(s,t);var e=Object(u.a)(s);function s(t){var l;return Object(c.a)(this,s),(l=e.call(this,t)).rollCallback=t.startscreen_roll_callback,l.state={number_of_dice:null},l}return Object(r.a)(s,[{key:"onRoll",value:function(){this.rollCallback(this.state.number_of_dice)}},{key:"onNumberChange",value:function(t){this.state.number_of_dice=t.target.value,this.setState(this.state)}},{key:"render",value:function(){return Object(h.jsxs)("div",{children:[Object(h.jsx)("div",{children:"Input dice count:"}),Object(h.jsx)("input",{type:"number",value:this.state.number_of_dice,onChange:this.onNumberChange.bind(this)}),Object(h.jsx)("button",{onClick:this.onRoll.bind(this),children:"Roll!"})]})}}]),s}(a.a.Component),v=function(){function t(){Object(c.a)(this,t),this.reset()}return Object(r.a)(t,[{key:"reset",value:function(){this.dice_values=[],this.addLevel(),this.explode={1:!1,2:!1,3:!1,4:!1,5:!1,6:!1}}},{key:"addValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1;this.dice_values[this.dice_values.length-1][t]+=e}},{key:"setValue",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.dice_values[this.dice_values.length-1][t]=e}},{key:"addLevel",value:function(){this.dice_values.push({1:0,2:0,3:0,4:0,5:0,6:0})}},{key:"getValueStr",value:function(t){var e="",s=!0;return this.dice_values.forEach((function(l){s||(e+="+"),e+=String(l[t]),s=!1})),this.explode[t]&&(e+=" *2"),e}},{key:"getSum",value:function(){var t=this;return[1,2,3,4,5,6].map((function(e){return t.getValueNum(e)})).reduce((function(t,e){return t+e}))}},{key:"getValueNum",value:function(t){var e=0;return this.dice_values.forEach((function(s){e+=s[t]})),this.explode[t]&&(e*=2),e}},{key:"setExplode",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];this.explode[t]=e}},{key:"toggleExplode",value:function(t){this.explode[t]=!this.explode[t]}}]),t}(),b=(s(15),function(t){Object(o.a)(s,t);var e=Object(u.a)(s);function s(t){var l;return Object(c.a)(this,s),(l=e.call(this,t)).state={rolls:[],current_roll:0},l.resetSelected(),l.initialRoll(t.dice_count),l.backHomeCallback=t.backHomeCallback,l}return Object(r.a)(s,[{key:"resetSelected",value:function(){this.state.selected_values={6:!1,5:!1,4:!1,3:!1,2:!1,1:!1},this.setState(this.state)}},{key:"randInt",value:function(){var t=Math.floor(6*Math.random())+1;return console.log(t),t}},{key:"initialRoll",value:function(t){var e=new v;this.state.rolls.push(e);for(var s=0;s<t;s++)e.addValue(this.randInt());this.setState(this.state)}},{key:"reroll",value:function(){for(var t=this.state.rolls[this.state.current_roll],e=0,s=1;s<=6;s++)this.state.selected_values[s]&&(e+=t.getValueNum(s),t.setValue(s));if(0!=e){t.addLevel();for(var l=0;l<e;l++)t.addValue(this.randInt());this.resetSelected(),this.setState(this.state)}}},{key:"toggleSelected",value:function(t,e){1==e.buttons&&(this.state.selected_values[t]=!this.state.selected_values[t],this.setState(this.state))}},{key:"next",value:function(){if(this.state.current_roll==this.state.rolls.length-1){for(var t=this.state.rolls[this.state.current_roll],e=0,s=1;s<=6;s++)this.state.selected_values[s]&&(e+=t.getValueNum(s));if(0==e)return;this.initialRoll(e)}this.state.current_roll+=1,this.setState(this.state),this.resetSelected()}},{key:"priv",value:function(){0==this.state.current_roll?this.backHomeCallback():(this.state.current_roll-=1,this.setState(this.state)),this.resetSelected()}},{key:"explode",value:function(){for(var t=this.state.rolls[this.state.current_roll],e=1;e<=6;e++)this.state.selected_values[e]&&t.toggleExplode(e);this.resetSelected()}},{key:"getSelectedDiceCount",value:function(){for(var t=this.state.rolls[this.state.current_roll],e=0,s=1;s<=6;s++)this.state.selected_values[s]&&(e+=t.getValueNum(s));return e}},{key:"render",value:function(){var t=this,e=this.state.rolls[this.state.current_roll],s=0==this.state.current_roll?"Home":"Prev",l=this.state.current_roll==this.state.rolls.length-1?"Roll":"Next",a=this.state.current_roll!=this.state.rolls.length-1,i=[6,5,4,3,2,1].map((function(e){return t.state.selected_values[e]?"diceLine diceSelected":"diceLine"}));return Object(h.jsxs)("div",{children:["Roll #",this.state.current_roll+1," (",this.getSelectedDiceCount(),"/",e.getSum()," dice):",[6,5,4,3,2,1].map((function(s,l){return Object(h.jsxs)("div",{className:i[l],onMouseDown:t.toggleSelected.bind(t,s),onMouseEnter:t.toggleSelected.bind(t,s),children:[Object(h.jsxs)("div",{className:"diceLabel",children:[s,":"]})," ",Object(h.jsx)("div",{className:"diceValue",children:e.getValueStr(s)})]})})),Object(h.jsx)("button",{onClick:this.priv.bind(this),children:s}),Object(h.jsx)("button",{onClick:this.reroll.bind(this),disabled:a,children:"Reroll"}),Object(h.jsx)("button",{onClick:this.explode.bind(this),disabled:a,children:"Explode"}),Object(h.jsx)("button",{onClick:this.next.bind(this),children:l})]})}}]),s}(a.a.Component)),_=function(t){Object(o.a)(s,t);var e=Object(u.a)(s);function s(t){var l;return Object(c.a)(this,s),(l=e.call(this,t)).state={show_start_screen:!0},l}return Object(r.a)(s,[{key:"startscreenRollCallback",value:function(t){this.state.show_start_screen=!1,this.state.dice_count=t,this.setState(this.state)}},{key:"backHomeCallback",value:function(){this.state.show_start_screen=!0,this.setState(this.state)}},{key:"render",value:function(){return Object(h.jsxs)("div",{className:"App",children:[this.state.show_start_screen&&Object(h.jsx)(d,{startscreen_roll_callback:this.startscreenRollCallback.bind(this)}),!this.state.show_start_screen&&Object(h.jsx)(b,{dice_count:this.state.dice_count,backHomeCallback:this.backHomeCallback.bind(this)})]})}}]),s}(a.a.Component);n.a.render(Object(h.jsx)(a.a.StrictMode,{children:Object(h.jsx)(_,{})}),document.getElementById("root"))}},[[16,1,2]]]);
//# sourceMappingURL=main.f3966702.chunk.js.map